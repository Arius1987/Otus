# Итоговая работа "VXLan/EVPN в Proxmox"
## Введение

Я бы хотел выполнить эту работу в формате лабораторных работ, которые мы будем постепенно усложнять. Все гипервизоры будут поключены одним линком к облаку "Net", котрое является моей домашей сетью и используется как менеджмент, ip адреса я выделил для них начиная с 192.168.5.21 по 192.168.5.x/26.
Из "Коробки" Proxmox не умеет работать с vxlan/evpn. Для получения данного функционала нужно вылнить ряд настроек, котрые описаны в документации в блоке "Installation". Документация приведена по ссылке:
https://pve.proxmox.com/pve-docs/chapter-pvesdn.html



Для проверки ip связанности вместо привычных всем виртальных машин будут использоваться lxc контейнеры на базе alpine linux - наименее аппаратно требовательные виртуальные среды.
Теперь загляенем немного под капот proxmox и попытаемся понять, что там к чему: а под капотом для маршрутизации используется linux-пакет frr, который явзяется форком очень известного проекта quagga. Функционал этого пакета очень серьезен, и как ни странно описан в документации:\
https://docs.frrouting.org/_/downloads/en/stable-9.0/pdf/


Но...лишь малая часть всего этого доступна из вэб-странички proxmox, более того - основной конфигурационный файл /etc/frr/frr.conf настраивается из вэб-странички и ей же ограничен. А также стоит учитывать, что если вы пойдете в frr.conf и что-то там настроите, то proxmox все перезапишет согласно настроке вэб-приложения при нажатии кнопки "Применить" 



